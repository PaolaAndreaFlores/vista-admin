<!DOCTYPE html>
<html lang="en">
  <!-- Mirrored from dashkit.goodthemes.co/sign-in.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 Apr 2020 21:06:08 GMT -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=utf-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="A fully featured admin theme which can be used to build CRM, CMS, etc."
    />

    <!-- Libs CSS -->
    <link rel="stylesheet" href="assets/fonts/feather/feather.css" />
    <link
      rel="stylesheet"
      href="assets/libs/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="stylesheet" href="assets/libs/quill/dist/quill.core.css" />
    <link rel="stylesheet" href="assets/libs/highlightjs/styles/vs2015.css" />

    <!-- Map -->
    <link
      href="../api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css"
      rel="stylesheet"
    />

    <!-- Theme CSS -->

    <link
      rel="stylesheet"
      href="assets/css/theme.min.css"
      id="stylesheetLight"
    />
    <link
      rel="stylesheet"
      href="assets/css/theme-dark.min.css"
      id="stylesheetDark"
    />

    <style>
      body {
        display: none;
      }
    </style>

    <!-- Title -->
    <title>Dashkit</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-156446909-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "UA-156446909-1");
    </script>
  </head>
  <body
    class="d-flex align-items-center bg-auth border-top border-top-2 border-primary"
  >
    <!-- CONTENT
    ================================================== -->
    <div id="app"></div>

    <!-- / .container -->

    <!-- JAVASCRIPT
    ================================================== -->
    <!-- Libs JS -->
    <script src="assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/%40shopify/draggable/lib/es5/draggable.bundle.legacy.js"></script>
    <script src="assets/libs/autosize/dist/autosize.min.js"></script>
    <script src="assets/libs/chart.js/dist/Chart.min.js"></script>
    <script src="assets/libs/dropzone/dist/min/dropzone.min.js"></script>
    <script src="assets/libs/flatpickr/dist/flatpickr.min.js"></script>
    <script src="assets/libs/highlightjs/highlight.pack.min.js"></script>
    <script src="assets/libs/jquery-mask-plugin/dist/jquery.mask.min.js"></script>
    <script src="assets/libs/list.js/dist/list.min.js"></script>
    <script src="assets/libs/quill/dist/quill.min.js"></script>
    <script src="assets/libs/select2/dist/js/select2.full.min.js"></script>
    <script src="assets/libs/chart.js/Chart.extension.js"></script>
    <!-- Map -->
    <script src="../api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js"></script>

    <!-- Theme JS -->
    <script src="assets/js/theme.min.js"></script>
    <script src="assets/js/dashkit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="./vue/app.js"></script>
  </body>

  <!-- Mirrored from dashkit.goodthemes.co/sign-in.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 16 Apr 2020 21:06:08 GMT -->
</html>


const app = new Vue({
    el: "#app_",
    data: {
      rutas : [];
    },
    methods: {
      GET_RUTAS() {
        axios
          .get(
            "http://localhost:3000/api/route/",{
                headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
            }
          )
          .then((resp) => {
            this.rutas = resp.data;
            console.log('......',resp.data);
            
            //location.href = `./home.php?token${resp.data.token}&user=${resp.data.username}&role=${resp.data.role}`;
          })
          .catch((e) => {
            console.log(e);
          });
      },
    },
    created() {
      if(localStorage.getItem("token") === null){
        location.href='./login.php';
      }

    },

  });









  <script>
    const app = new Vue({
      el: "#app_login",
      data: {
          rutas : []
      },
      methods: {
       GET_RUTAS() {
      axios
        .get(
          "http://localhost:3000/api/route/",{
              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
          }
        )
        .then((resp) => {
          this.rutas = resp.data;
          //location.href = `./home.php?token${resp.data.token}&user=${resp.data.username}&role=${resp.data.role}`;
        })
        .catch((e) => {
          console.log(e);
        });
    },
    OnClickDelete(id){
      axios
        .delete(
          "http://localhost:3000/api/route/"+id,{
              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
          }
        )
        .then((resp) => {
          for (let index = 0; index < this.rutas.length; index++) {
                      if (rhis.rutas[index].idRoute == id) {
                          this.rutas.splice(index, 1);
                          break;
                      }
                  }
        })
        .catch((e) => {
          console.log(e);
        });
    },
    OnClickEdit(id){
      axios
        .put(
          "http://localhost:3000/api/route/"+id,{
              headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
          }
        )
        .then((resp) => {
          for (let index = 0; index < this.rutas.length; index++) {
                      if (rhis.rutas[index].idRoute == id) {
                          this.rutas.splice(index, 1);
                          break;
                      }
                  }
        })
        .catch((e) => {
          console.log(e);
        });
    },
      },
      created() {
          this.GET_RUTAS();
      },
    });
  </script>